A suspension of N-alkoxyphthalimide in ethanol is heated until the N-alkoxyphthalimide dissolves. Hydrazine hydrate (care) is added in one batch at this temperature and mixture stirred for about 5 mins, then allowed to cool to room temperature. The aldehyde is added, and the mixture stirred overnight.  The mixture is filtered, then DCM is added (10 ml per 3.31 mmol N-alkoxyphthalimide used) and the mixture filtered again, then concentrated. The product is purified by chromatography (PE/EtOAc or PE/DCM).
